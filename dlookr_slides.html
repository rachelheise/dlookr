<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>dlookr Package</title>
    <meta charset="utf-8" />
    <meta name="author" content="Rachel Heise" />
    <meta name="date" content="2022-09-08" />
    <script src="libs/header-attrs-2.15/header-attrs.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="extra.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">






layout: true
background-image: url(img/dlookr_hex.png)
background-size: 100px
background-position: 90% 90%

---

name: xaringan-title
class: left, middle
background-image: url(img/white-abstract-background.jpg)
background-size: cover

&lt;h1 style="color: gray;"&gt;Data diagnosis, exploration, and transformation with {dlookr}&lt;/h1&gt;

&lt;img src="img/dlookr_hex.png" alt="dlookr-hex-sticker" width="180" /&gt;

&lt;h3 style="color: gray;"&gt;Rachel Heise | WCM Computing Club | September 22, 2022&lt;/h3&gt;

---

# dlookr

- Package for exploratory data analysis

  - Data diagnosis
  
  - Exploration
  
  - Transformation
  
---


# Advantages of dlookr

- Seamless integration with `dplyr`

- Use of `plot` and `summary` functions to quickly view diagnostic data

- Simple and powerful commands
  
---

# Data
.pull-left[
- Use `iris` dataset...with some NAs added for complexity

- `iris` variables

  - Sepal Length (continuous, add NA)
  
  - Sepal Width (continuous)
  
  - Petal Length (continuous)
  
  - Petal Width (continuous)
  
  - Species (categorical, add NA)
    
]

--

.pull-right[

```r
data("iris")

iris["Sepal.Length"] &lt;- lapply(iris["Sepal.Length"], function(x) {x[sample( c(1:40), floor(40/10))] &lt;- NA; x})
iris["Species"] &lt;- lapply(iris["Species"], function(x) {x[sample( c(1:35), floor(35/10))] &lt;- NA; x})

iris %&gt;% data.table()
```

```
     Sepal.Length Sepal.Width Petal.Length Petal.Width   Species
  1:          5.1         3.5          1.4         0.2    setosa
  2:          4.9         3.0          1.4         0.2    setosa
  3:          4.7         3.2          1.3         0.2    setosa
  4:          4.6         3.1          1.5         0.2      &lt;NA&gt;
  5:          5.0         3.6          1.4         0.2    setosa
 ---                                                            
146:          6.7         3.0          5.2         2.3 virginica
147:          6.3         2.5          5.0         1.9 virginica
148:          6.5         3.0          5.2         2.0 virginica
149:          6.2         3.4          5.4         2.3 virginica
150:          5.9         3.0          5.1         1.8 virginica
```
]

---

# Diagnose
.pull-left[
  - `diagnose` function describes:
  
    - the type of each variable
    
    - number &amp; percent of missing data
    
    - unique data
    
  - Helps with basic data diagnostics: are unique counts what you expect, how much missingness is there, are data types correct

]

.pull-right[

```r
diagnose(iris)
```

```
# A tibble: 5 × 6
  variables    types   missing_count missing_percent unique_count unique_rate
  &lt;chr&gt;        &lt;chr&gt;           &lt;int&gt;           &lt;dbl&gt;        &lt;int&gt;       &lt;dbl&gt;
1 Sepal.Length numeric             4            2.67           36      0.24  
2 Sepal.Width  numeric             0            0              23      0.153 
3 Petal.Length numeric             0            0              43      0.287 
4 Petal.Width  numeric             0            0              22      0.147 
5 Species      factor              3            2               4      0.0267
```
]

--


```r
iris %&gt;% 
  diagnose() %&gt;% 
  select(-unique_count, -unique_rate) %&gt;% 
  filter(missing_count &gt; 0) %&gt;% 
  arrange(desc(missing_count))
```

```
# A tibble: 2 × 4
  variables    types   missing_count missing_percent
  &lt;chr&gt;        &lt;chr&gt;           &lt;int&gt;           &lt;dbl&gt;
1 Sepal.Length numeric             4            2.67
2 Species      factor              3            2   
```

---

# Diagnose Continuous Variables
.pull-left[

```r
diagnose_numeric(iris)
```

```
# A tibble: 4 × 10
  variables      min    Q1  mean median    Q3   max  zero minus outlier
  &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt;   &lt;int&gt;
1 Sepal.Length   4.3   5.1  5.86   5.8    6.4   7.9     0     0       0
2 Sepal.Width    2     2.8  3.06   3      3.3   4.4     0     0       4
3 Petal.Length   1     1.6  3.76   4.35   5.1   6.9     0     0       0
4 Petal.Width    0.1   0.3  1.20   1.3    1.8   2.5     0     0       0
```

```r
diagnose_outlier(iris)
```

```
     variables outliers_cnt outliers_ratio outliers_mean with_mean without_mean
1 Sepal.Length            0       0.000000           NaN  5.856849     5.856849
2  Sepal.Width            4       2.666667         3.675  3.057333     3.040411
3 Petal.Length            0       0.000000           NaN  3.758000     3.758000
4  Petal.Width            0       0.000000           NaN  1.199333     1.199333
```
]
--
.pull-right[

```r
diagnose_outlier(iris) %&gt;% 
  filter(outliers_cnt &gt; 0)
```

```
    variables outliers_cnt outliers_ratio outliers_mean with_mean without_mean
1 Sepal.Width            4       2.666667         3.675  3.057333     3.040411
```

```r
iris %&gt;% 
  plot_outlier(diagnose_outlier(iris) %&gt;% 
               filter(outliers_ratio &gt;= 0.5) %&gt;% 
               select(variables) %&gt;% 
               unlist())
```

![](dlookr_slides_files/figure-html/unnamed-chunk-6-1.png)&lt;!-- --&gt;
]

---

# Diagnose Categorical Variables


```r
diagnose_category(iris)
```

```
# A tibble: 4 × 6
  variables levels         N  freq ratio  rank
  &lt;chr&gt;     &lt;chr&gt;      &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;int&gt;
1 Species   versicolor   150    50  33.3     1
2 Species   virginica    150    50  33.3     1
3 Species   setosa       150    47  31.3     3
4 Species   &lt;NA&gt;         150     3   2       4
```


```r
diagnose_category(iris) %&gt;% 
  filter(is.na(levels))
```

---

# Describe


```r
describe(iris)
```

```
# A tibble: 4 × 26
  described_varia…     n    na  mean    sd se_mean   IQR skewness kurtosis   p00
  &lt;chr&gt;            &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;
1 Sepal.Length       146     4  5.86 0.834  0.0690   1.3    0.278   -0.586   4.3
2 Sepal.Width        150     0  3.06 0.436  0.0356   0.5    0.319    0.228   2  
3 Petal.Length       150     0  3.76 1.77   0.144    3.5   -0.275   -1.40    1  
4 Petal.Width        150     0  1.20 0.762  0.0622   1.5   -0.103   -1.34    0.1
# … with 16 more variables: p01 &lt;dbl&gt;, p05 &lt;dbl&gt;, p10 &lt;dbl&gt;, p20 &lt;dbl&gt;,
#   p25 &lt;dbl&gt;, p30 &lt;dbl&gt;, p40 &lt;dbl&gt;, p50 &lt;dbl&gt;, p60 &lt;dbl&gt;, p70 &lt;dbl&gt;,
#   p75 &lt;dbl&gt;, p80 &lt;dbl&gt;, p90 &lt;dbl&gt;, p95 &lt;dbl&gt;, p99 &lt;dbl&gt;, p100 &lt;dbl&gt;
```

```r
iris %&gt;% 
  describe() %&gt;% 
  select(described_variables, skewness, mean, p25, p50, p75) %&gt;% 
  filter(!is.na(skewness)) %&gt;% 
  arrange(desc(abs(skewness)))
```

```
# A tibble: 4 × 6
  described_variables skewness  mean   p25   p50   p75
  &lt;chr&gt;                  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 Sepal.Width            0.319  3.06   2.8  3      3.3
2 Sepal.Length           0.278  5.86   5.1  5.8    6.4
3 Petal.Length          -0.275  3.76   1.6  4.35   5.1
4 Petal.Width           -0.103  1.20   0.3  1.3    1.8
```

```r
iris %&gt;% 
  group_by(Species) %&gt;% 
  describe(Sepal.Length, Sepal.Width)
```

```
# A tibble: 8 × 27
  described_variables Species        n    na  mean    sd se_mean   IQR skewness
  &lt;chr&gt;               &lt;fct&gt;      &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
1 Sepal.Length        setosa        44     3  5    0.330  0.0497 0.400  0.199  
2 Sepal.Length        versicolor    50     0  5.94 0.516  0.0730 0.7    0.105  
3 Sepal.Length        virginica     50     0  6.59 0.636  0.0899 0.675  0.118  
4 Sepal.Length        &lt;NA&gt;           2     1  4.45 0.212  0.150  0.150 NA      
5 Sepal.Width         setosa        47     0  3.44 0.381  0.0555 0.45  -0.00292
6 Sepal.Width         versicolor    50     0  2.77 0.314  0.0444 0.475 -0.363  
7 Sepal.Width         virginica     50     0  2.97 0.322  0.0456 0.375  0.366  
8 Sepal.Width         &lt;NA&gt;           3     0  3.27 0.379  0.219  0.350  1.60   
# … with 18 more variables: kurtosis &lt;dbl&gt;, p00 &lt;dbl&gt;, p01 &lt;dbl&gt;, p05 &lt;dbl&gt;,
#   p10 &lt;dbl&gt;, p20 &lt;dbl&gt;, p25 &lt;dbl&gt;, p30 &lt;dbl&gt;, p40 &lt;dbl&gt;, p50 &lt;dbl&gt;,
#   p60 &lt;dbl&gt;, p70 &lt;dbl&gt;, p75 &lt;dbl&gt;, p80 &lt;dbl&gt;, p90 &lt;dbl&gt;, p95 &lt;dbl&gt;,
#   p99 &lt;dbl&gt;, p100 &lt;dbl&gt;
```

---

# Normality


```r
normality(iris)
```

```
# A tibble: 4 × 4
  vars         statistic  p_value sample
  &lt;chr&gt;            &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;
1 Sepal.Length     0.977 1.45e- 2    150
2 Sepal.Width      0.985 1.01e- 1    150
3 Petal.Length     0.876 7.41e-10    150
4 Petal.Width      0.902 1.68e- 8    150
```

```r
plot_normality(iris)
```

![](dlookr_slides_files/figure-html/unnamed-chunk-10-1.png)&lt;!-- --&gt;![](dlookr_slides_files/figure-html/unnamed-chunk-10-2.png)&lt;!-- --&gt;![](dlookr_slides_files/figure-html/unnamed-chunk-10-3.png)&lt;!-- --&gt;![](dlookr_slides_files/figure-html/unnamed-chunk-10-4.png)&lt;!-- --&gt;

---
# Correlation


```r
correlate(iris)
```

```
# A tibble: 12 × 3
   var1         var2         coef_corr
   &lt;fct&gt;        &lt;fct&gt;            &lt;dbl&gt;
 1 Sepal.Width  Sepal.Length    -0.104
 2 Petal.Length Sepal.Length     0.877
 3 Petal.Width  Sepal.Length     0.819
 4 Sepal.Length Sepal.Width     -0.104
 5 Petal.Length Sepal.Width     -0.428
 6 Petal.Width  Sepal.Width     -0.366
 7 Sepal.Length Petal.Length     0.877
 8 Sepal.Width  Petal.Length    -0.428
 9 Petal.Width  Petal.Length     0.963
10 Sepal.Length Petal.Width      0.819
11 Sepal.Width  Petal.Width     -0.366
12 Petal.Length Petal.Width      0.963
```

```r
iris %&gt;% 
  correlate() %&gt;% 
  plot()
```

![](dlookr_slides_files/figure-html/unnamed-chunk-11-1.png)&lt;!-- --&gt;

---
# Target Variables

.pull-left[

- Similar to `group_by()` in `dplyr`

- Target variables are used to explore the relationship between a categorical variable and other variable values

]

.pull-right[


```r
categ &lt;- target_by(iris, Species) # Species is the target variable
cat_num &lt;- relate(categ, Petal.Length) # petal length is the numerical variable of interest

plot(cat_num)
```

![](dlookr_slides_files/figure-html/unnamed-chunk-12-1.png)&lt;!-- --&gt;

]

---
# Imputation - continuous

.pull-left[

- Imputation methods for continuous variables include:

  - mean
  - median
  - mode
  - K-nearest neighbors (knn) 
  - Recursive Partitioning and Regression Trees (rpart)
  - Multivariate Imputation by Chained Equations (mice)
  

]

.pull-right[

```r
sepallength_im &lt;- imputate_na(iris, Sepal.Length, yvar = Species, method = "knn")

summary(sepallength_im)
```

```
* Impute missing values based on K-Nearest Neighbors
 - method : knn

* Information of Imputation (before vs after)
                    Original     Imputation  
described_variables "value"      "value"     
n                   "146"        "150"       
na                  "4"          "0"         
mean                "5.856849"   "5.837827"  
sd                  "0.8341758"  "0.8313497" 
se_mean             "0.06903688" "0.06787942"
IQR                 "1.3"        "1.3"       
skewness            "0.2777875"  "0.3229473" 
kurtosis            "-0.5859220" "-0.5740552"
p00                 "4.3"        "4.3"       
p01                 "4.4"        "4.4"       
p05                 "4.6"        "4.6"       
p10                 "4.8"        "4.8"       
p20                 "5"          "5"         
p25                 "5.1"        "5.1"       
p30                 "5.35"       "5.20"      
p40                 "5.60"       "5.56"      
p50                 "5.8"        "5.8"       
p60                 "6.1"        "6.1"       
p70                 "6.3"        "6.3"       
p75                 "6.4"        "6.4"       
p80                 "6.60"       "6.52"      
p90                 "6.9"        "6.9"       
p95                 "7.275"      "7.255"     
p99                 "7.7"        "7.7"       
p100                "7.9"        "7.9"       
```

```r
plot(sepallength_im)
```

![](dlookr_slides_files/figure-html/unnamed-chunk-13-1.png)&lt;!-- --&gt;

```r
# add imputed variable to original data set

iris_new &lt;- cbind(iris, sepallength_im)
```
]
---

# Imputation - categorical 
.pull-left[
- Imputation for categorical variables include:

  - mode
  - Recursive Partitioning and Regression Trees (rpart)
  - Multivariate Imputation by Chained Equations (mice)
]

.pull-right[


```r
library(mice)
species_im &lt;- imputate_na(iris, Species, method = "mice")
```

```

 iter imp variable
  1   1  Sepal.Length  Species
  1   2  Sepal.Length  Species
  1   3  Sepal.Length  Species
  1   4  Sepal.Length  Species
  1   5  Sepal.Length  Species
  2   1  Sepal.Length  Species
  2   2  Sepal.Length  Species
  2   3  Sepal.Length  Species
  2   4  Sepal.Length  Species
  2   5  Sepal.Length  Species
  3   1  Sepal.Length  Species
  3   2  Sepal.Length  Species
  3   3  Sepal.Length  Species
  3   4  Sepal.Length  Species
  3   5  Sepal.Length  Species
  4   1  Sepal.Length  Species
  4   2  Sepal.Length  Species
  4   3  Sepal.Length  Species
  4   4  Sepal.Length  Species
  4   5  Sepal.Length  Species
  5   1  Sepal.Length  Species
  5   2  Sepal.Length  Species
  5   3  Sepal.Length  Species
  5   4  Sepal.Length  Species
  5   5  Sepal.Length  Species
```

```r
plot(species_im)
```

![](dlookr_slides_files/figure-html/unnamed-chunk-14-1.png)&lt;!-- --&gt;

```r
summary(species_im)
```

```
* Impute missing values based on Multivariate Imputation by Chained Equations
 - method : mice
 - random seed : 87322

* Information of Imputation (before vs after)
           original imputation original_percent imputation_percent
setosa           47         50            31.33              33.33
versicolor       50         50            33.33              33.33
virginica        50         50            33.33              33.33
&lt;NA&gt;              3          0             2.00               0.00
```

```r
iris_new &lt;- cbind(iris, species_im)
```

]

---
# Imputation - outliers

.pull-left[

- Imputation methods for outliers

  - mean
  - median
  - mode
  - capping (imputes upper outliers at 95th percentile and lower outliers at 5th percentile)

]

.pull-right[

```r
iris_outliers &lt;- imputate_outlier(iris, Sepal.Width, method="capping")
iris_outliers
```

```
  [1] 3.500 3.000 3.200 3.100 3.600 3.900 3.400 3.400 2.900 3.100 3.700 3.400
 [13] 3.000 3.000 4.000 3.800 3.900 3.500 3.800 3.800 3.400 3.700 3.600 3.300
 [25] 3.400 3.000 3.400 3.500 3.400 3.200 3.100 3.400 3.800 3.800 3.100 3.200
 [37] 3.500 3.600 3.000 3.400 3.500 2.300 3.200 3.500 3.800 3.000 3.800 3.200
 [49] 3.700 3.300 3.200 3.200 3.100 2.300 2.800 2.800 3.300 2.400 2.900 2.700
 [61] 2.345 3.000 2.200 2.900 2.900 3.100 3.000 2.700 2.200 2.500 3.200 2.800
 [73] 2.500 2.800 2.900 3.000 2.800 3.000 2.900 2.600 2.400 2.400 2.700 2.700
 [85] 3.000 3.400 3.100 2.300 3.000 2.500 2.600 3.000 2.600 2.300 2.700 3.000
 [97] 2.900 2.900 2.500 2.800 3.300 2.700 3.000 2.900 3.000 3.000 2.500 2.900
[109] 2.500 3.600 3.200 2.700 3.000 2.500 2.800 3.200 3.000 3.800 2.600 2.200
[121] 3.200 2.800 2.800 2.700 3.300 3.200 2.800 3.000 2.800 3.000 2.800 3.800
[133] 2.800 2.800 2.600 3.000 3.400 3.100 3.000 3.100 3.100 3.100 2.700 3.200
[145] 3.300 3.000 2.500 3.000 3.400 3.000
attr(,"method")
[1] "capping"
attr(,"var_type")
[1] "numerical"
attr(,"outlier_pos")
[1] 16 33 34 61
attr(,"outliers")
[1] 4.4 4.1 4.2 2.0
attr(,"type")
[1] "outliers"
attr(,"message")
[1] "complete imputation"
attr(,"success")
[1] TRUE
attr(,"class")
[1] "imputation" "numeric"   
```

```r
summary(iris_outliers)
```

```
Impute outliers with capping

* Information of Imputation (before vs after)
                    Original     Imputation  
described_variables "value"      "value"     
n                   "150"        "150"       
na                  "0"          "0"         
mean                "3.057333"   "3.050967"  
sd                  "0.4358663"  "0.4108379" 
se_mean             "0.03558833" "0.03354478"
IQR                 "0.5"        "0.5"       
skewness            "0.3189657"  "0.1340705" 
kurtosis            " 0.2282490" "-0.4114289"
p00                 "2.0"        "2.2"       
p01                 "2.2"        "2.2"       
p05                 "2.34500"    "2.36975"   
p10                 "2.5"        "2.5"       
p20                 "2.7"        "2.7"       
p25                 "2.8"        "2.8"       
p30                 "2.8"        "2.8"       
p40                 "3"          "3"         
p50                 "3"          "3"         
p60                 "3.1"        "3.1"       
p70                 "3.2"        "3.2"       
p75                 "3.3"        "3.3"       
p80                 "3.4"        "3.4"       
p90                 "3.61"       "3.61"      
p95                 "3.8"        "3.8"       
p99                 "4.151"      "3.900"     
p100                "4.4"        "4.0"       
```

```r
plot(iris_outliers)
```

![](dlookr_slides_files/figure-html/unnamed-chunk-15-1.png)&lt;!-- --&gt;
]

---
# Standardization and Skewness

- `transform` function can both standardize (using z-score or minmax methods) and resolve skewness (via various transformations).


```r
hist(iris$Sepal.Length)
```

![](dlookr_slides_files/figure-html/unnamed-chunk-16-1.png)&lt;!-- --&gt;

```r
# iris_t &lt;- iris %&gt;% 
#   mutate(Sepal.Length_minmax = transform(Sepal.Length, method = "minmax"))
  
iris_t &lt;- transform(iris$Sepal.Length, method = "minmax")

plot(iris_t)
```

![](dlookr_slides_files/figure-html/unnamed-chunk-16-2.png)&lt;!-- --&gt;

---
# Find Skewness

- `find_skewness` function identifies skewed variables. Use `index=FALSE` argument to return the names of the skewed variables.


```r
find_skewness(iris, index = FALSE)
```

```
character(0)
```

```r
find_skewness(iris, value = TRUE)
```

```
Sepal.Length  Sepal.Width Petal.Length  Petal.Width 
       0.275        0.316       -0.272       -0.102 
```

```r
#filter on level of skewness
find_skewness(iris, value = TRUE, thres = 0.3)
```

```
Sepal.Width 
      0.316 
```

---
# Binning

- `binning` transforms a continuous variable into a categorical variable. It includes the following types of binning: quantile, equal, pretty (?), kmeans, and bclust.


```r
library()
bin &lt;- binning(iris$Petal.Length,
               nbins = 4,
               type = "kmeans",
               labels = c("B1", "B2", "B3", "B4")) #default type is quantile
bin
```

```
binned type: kmeans
number of bins: 4
x
B1 B2 B3 B4 
50 40 41 19 
```

```r
summary(bin)
```

```
  levels freq      rate
1     B1   50 0.3333333
2     B2   40 0.2666667
3     B3   41 0.2733333
4     B4   19 0.1266667
```

```r
plot(bin)
```

![](dlookr_slides_files/figure-html/unnamed-chunk-18-1.png)&lt;!-- --&gt;

```r
# #extract binned results and save to df
# iris_bins &lt;- iris %&gt;% 
#   cbind(extract(bin))
```



&lt;style type="text/css"&gt;
.remark-code{line-height: 1.5; font-size: 60%}

&lt;!-- @media print { --&gt;
&lt;!--   .has-continuation { --&gt;
&lt;!--     display: block; --&gt;
&lt;!--   } --&gt;
&lt;!-- } --&gt;

&lt;!-- code.r.hljs.remark-code{ --&gt;
&lt;!--   position: relative; --&gt;
&lt;!--   overflow-x: hidden; --&gt;
&lt;!-- } --&gt;


&lt;!-- code.r.hljs.remark-code:hover{ --&gt;
&lt;!--   overflow-x:visible; --&gt;
&lt;!--   width: 400px; --&gt;
&lt;!-- } --&gt;
&lt;/style&gt;





    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
